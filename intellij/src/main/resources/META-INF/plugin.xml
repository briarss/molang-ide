<idea-plugin>
    <id>aster.amo.molang</id>
    <name>MoLang Support</name>
    <vendor>Amo</vendor>
    <description><![CDATA[
        MoLang language support for Cobblemon scripting.
        <ul>
            <li>Syntax highlighting for .molang files</li>
            <li>Schema-driven code completion (query, math, temp, variable, function prefixes)</li>
            <li>Hover documentation from molang-schema.json</li>
            <li>Go-to-definition for fn() and import()</li>
            <li>Cross-file function index</li>
        </ul>
    ]]></description>

    <depends>com.intellij.modules.platform</depends>
    <depends>com.intellij.modules.lang</depends>

    <extensions defaultExtensionNs="com.intellij">
        <!-- File type -->
        <fileType
                name="MoLang"
                implementationClass="aster.amo.molang.ide.MoLangFileType"
                fieldName="INSTANCE"
                language="MoLang"
                extensions="molang"/>

        <!-- Parser -->
        <lang.parserDefinition
                language="MoLang"
                implementationClass="aster.amo.molang.ide.parser.MoLangParserDefinition"/>

        <!-- Syntax highlighting -->
        <lang.syntaxHighlighterFactory
                language="MoLang"
                implementationClass="aster.amo.molang.ide.highlight.MoLangSyntaxHighlighterFactory"/>

        <colorSettingsPage
                implementation="aster.amo.molang.ide.highlight.MoLangColorSettingsPage"/>

        <!-- Completion -->
        <completion.contributor
                language="MoLang"
                implementationClass="aster.amo.molang.ide.completion.MoLangCompletionContributor"/>

        <!-- Documentation -->
        <lang.documentationProvider
                language="MoLang"
                implementationClass="aster.amo.molang.ide.documentation.MoLangDocumentationProvider"/>

        <!-- Navigation -->
        <gotoDeclarationHandler
                implementation="aster.amo.molang.ide.navigation.MoLangGotoHandler"/>

        <fileBasedIndex
                implementation="aster.amo.molang.ide.navigation.MoLangFunctionIndex"/>

        <!-- Schema service -->
        <projectService
                serviceImplementation="aster.amo.molang.ide.schema.MoLangSchemaService"/>
    </extensions>
</idea-plugin>
